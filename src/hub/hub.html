<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hub | AVANCE</title>

    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <link rel="stylesheet" href="../../style.css" />
    <link rel="stylesheet" href="./hub.css" />
  </head>

  <body>
    <aside class="sidebar">
      <div class="logo-container">
        <img src="../../img/avanceVip.png" alt="Logo AVANCE" class="company-logo" />
      </div>

      

      <div class="chat-list">
        <div class="chat-item active">
          <i class="ph ph-squares-four"></i>
          <div class="chat-info">
            <div class="chat-title">Hub de Aplicações</div>
            <div class="chat-date">Produtos disponíveis</div>
          </div>
        </div>
      </div>

      <div class="sidebar-footer">
        <div class="sidebar-userbar" id="sidebar-userbar">
          <span class="sidebar-user-email" id="user-email"></span>

          <button class="sidebar-settings-btn" id="settings-btn" type="button" aria-label="Configurações">
            <i class="ph ph-dots-three-vertical"></i>
          </button>

          <div class="sidebar-settings-menu" id="settings-menu" hidden>
          

            <button type="button" class="settings-item danger" id="menu-logout">
              <i class="ph ph-sign-out"></i>
              <span>Sair</span>
            </button>
          </div>
        </div>
      </div>
      <div class="sidebar-footer">
        <button class="theme-toggle" id="theme-toggle" type="button">
          <i class="ph ph-moon"></i>
          <span>Modo escuro</span>
        </button>
      </div>
    </aside>

    <main class="main-content">
      <header class="chat-header">
        <button class="mobile-menu-btn" id="mobile-menu-btn" type="button">
          <i class="ph ph-list"></i>
        </button>

        <!-- <div class="assistant-info">
          <div class="assistant-avatar">
            <img src="../../img/icone.jpg" alt="Avatar" />
          </div>
          <div class="assistant-details">
            <span class="name">Hub AVANCE</span>
            <span class="status">Acesso controlado por login</span>
          </div>
        </div> -->
      </header>

      <section class="hub-container">
        <div class="hub-head">
          <h1 class="hub-title">Aplicações</h1>
          <p class="hub-subtitle">Selecione um produto para acessar.</p>
        </div>

        <!-- Grid agora é dinâmico: o JS preenche -->
        <div class="hub-grid" id="hub-grid"></div>
      </section>

      <footer class="hub-footer">
        <span>AVANCE • Hub de Distribuição</span>
      </footer>
    </main>

    <!-- Modal (pop-up) de detalhes -->
    <div id="app-modal-backdrop" class="app-modal-backdrop" hidden>
      <div id="app-modal" class="app-modal" role="dialog" aria-modal="true" aria-labelledby="app-modal-title" hidden>
        <div class="app-modal-header">
          <div class="app-modal-titlewrap">
            <div class="app-modal-badge" id="app-modal-badge"></div>
            <h2 class="app-modal-title" id="app-modal-title"></h2>
          </div>

          <button type="button" class="app-modal-close" id="app-modal-close" aria-label="Fechar">
            <i class="ph ph-x"></i>
          </button>
        </div>

        <div class="app-modal-body">
          <p class="app-modal-desc" id="app-modal-desc"></p>

          <div class="app-modal-video" id="app-modal-video">
            <!-- iframe inserido via JS -->
          </div>

          <div class="app-modal-actions app-modal-actions-bottom" id="app-modal-actions">
            <!-- botões inseridos via JS -->
          </div>
        </div>
      </div>
    </div>

    <!-- Toast (mantido: boas-vindas) -->
    <div id="toast-backdrop" class="toast-backdrop" hidden>
      <div id="welcome-toast" class="toast" role="status" aria-live="polite" aria-atomic="true" hidden>
        <div class="toast-content">
          <div class="toast-icon">
            <img id="welcome-toast-image" src="../img/icone.jpg" alt="Boas-vindas" />
          </div>

          <div class="toast-text">
            <div class="toast-title" id="welcome-toast-title">Bem-vindo!</div>
            <div class="toast-message" id="welcome-toast-message"></div>
          </div>

          <button type="button" class="toast-close" id="welcome-toast-close" aria-label="Fechar mensagem">
            <i class="ph ph-x"></i>
          </button>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="../supabaseClient.js"></script>
    <script src="./hub.js" defer></script>
  </body>
</html>